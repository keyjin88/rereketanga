# –û—Ç–ª–∞–¥–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π

## üö® –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ —Ç–µ—Å—Ç–µ—Ä–µ

–ï—Å–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã, –≤–∫–ª—é—á–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞.

## üîç –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é** `DivergenceVisualizer_Improved.mq5`
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∂—É—Ä–Ω–∞–ª —Ç–µ—Ä–º–∏–Ω–∞–ª–∞** (Ctrl+T)
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä** –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
4. **–°–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –≤ –∂—É—Ä–Ω–∞–ª–µ

## üìã –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∞–¥–∫–∞

### –ü–æ–∏—Å–∫ –ø–∏–∫–æ–≤:
```
–û–¢–õ–ê–î–ö–ê: –ù–∞–π–¥–µ–Ω –ø–∏–∫ –Ω–∞ –±–∞—Ä–µ 0! –¢–∏–ø: MAX, –ó–Ω–∞—á–µ–Ω–∏–µ: 75.5, –¶–µ–Ω–∞: 1.1234
–û–¢–õ–ê–î–ö–ê: –ü–∏–∫ MAX –Ω–∞ –±–∞—Ä–µ 3, –ó–Ω–∞—á–µ–Ω–∏–µ: 72.1, –¶–µ–Ω–∞: 1.1220
```

### –ê–Ω–∞–ª–∏–∑ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π:
```
–û–¢–õ–ê–î–ö–ê: FindDivergencesRealtime - —Ç–∏–ø: StochBearish, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫–æ–≤: 5
–û–¢–õ–ê–î–ö–ê: –ù–∞–π–¥–µ–Ω –ø–∏–∫ –Ω–∞ —Ç–µ–∫—É—â–µ–º –±–∞—Ä–µ (–∏–Ω–¥–µ–∫—Å 0)!
–û–¢–õ–ê–î–ö–ê: –ú–µ–¥–≤–µ–∂—å—è –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è - —Ü–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç: true, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–∞–¥–∞–µ—Ç: true
–û–¢–õ–ê–î–ö–ê: Stoch –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞! –°–∏–ª–∞: 15.5
```

## ‚öôÔ∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –≤–µ—Ä—Å–∏–∏ 2.1

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ü–∏–∫–ª –ø–æ–∏—Å–∫–∞ –ø–∏–∫–æ–≤**
```cpp
// –î–û (–û–®–ò–ë–ö–ê):
for(int i = lookback; i < end_bar; i++)  // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∫–ª—é—á–∞–ª –±–∞—Ä 0!

// –ü–û–°–õ–ï (–ò–°–ü–†–ê–í–õ–ï–ù–û):
start_bar = EnableRealtimeSignals ? 0 : lookback;  // –¢–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –±–∞—Ä 0
for(int i = start_bar; i < end_bar; i++)
```

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è –±–∞—Ä–∞ 0**
```cpp
// –î–û (–û–®–ò–ë–ö–ê):
if(i == 0 && EnableRealtimeSignals)  // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª–æ—Å—å!

// –ü–û–°–õ–ï (–ò–°–ü–†–ê–í–õ–ï–ù–û):
if(i == 0 && EnableRealtimeSignals)  // –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

### 3. **–°–º—è–≥—á–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
```cpp
MACDPickDif = 0.5;        // –ë—ã–ª–æ 2.0
MinBarsBetweenPeaks = 3;  // –ë—ã–ª–æ 5
Stochastic –∑–æ–Ω—ã: 60/40    // –ë—ã–ª–æ 70/30
```

### 4. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–∏–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π –ø–æ—à–∞–≥–æ–≤–æ
- –í—ã–≤–æ–¥–∏—Ç –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤

## üß™ –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–∏—Å–∫ –ø–∏–∫–æ–≤
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
```
–û–¢–õ–ê–î–ö–ê: –ü–∏–∫ MAX –Ω–∞ –±–∞—Ä–µ 0, –ó–Ω–∞—á–µ–Ω–∏–µ: XX, –¶–µ–Ω–∞: XX
```

**–ï—Å–ª–∏ –ù–ï–¢** ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ –ø–æ–∏—Å–∫–∞ –ø–∏–∫–æ–≤

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω–∞–ª–∏–∑ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
```
–û–¢–õ–ê–î–ö–ê: –ù–∞–π–¥–µ–Ω –ø–∏–∫ –Ω–∞ —Ç–µ–∫—É—â–µ–º –±–∞—Ä–µ (–∏–Ω–¥–µ–∫—Å 0)!
```

**–ï—Å–ª–∏ –ù–ï–¢** ‚Üí –ù–µ—Ç –ø–∏–∫–∞ –Ω–∞ –±–∞—Ä–µ 0, –∂–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–∏–∫–∞

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ª–æ–≤–∏—è –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
```
–û–¢–õ–ê–î–ö–ê: –ú–µ–¥–≤–µ–∂—å—è –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è - —Ü–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç: true, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–∞–¥–∞–µ—Ç: true
```

**–ï—Å–ª–∏ false** ‚Üí –£—Å–ª–æ–≤–∏—è –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã
–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:
```
–û–¢–õ–ê–î–ö–ê: –°–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 2 < 3
–û–¢–õ–ê–î–ö–ê: –°–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä—ã–π –ø–∏–∫ - –∏–Ω–¥–µ–∫—Å: 55 > 50
–û–¢–õ–ê–î–ö–ê: MACD diff: 0.3, —Ç—Ä–µ–±—É–µ—Ç—Å—è: 0.5
```

## üîß –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ï—Å–ª–∏ –ù–ï–¢ –ø–∏–∫–æ–≤ –≤–æ–æ–±—â–µ:
1. –£–º–µ–Ω—å—à–∏—Ç–µ Stochastic –∑–æ–Ω—ã –¥–æ 50/50
2. –û—Ç–∫–ª—é—á–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä `ShowOnlySessionSignals`

### –ï—Å–ª–∏ –ø–∏–∫–∏ –µ—Å—Ç—å, –Ω–æ –ù–ï–¢ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π:
1. –£–º–µ–Ω—å—à–∏—Ç–µ `MACDPickDif` –¥–æ 0.1
2. –£–º–µ–Ω—å—à–∏—Ç–µ `MinBarsBetweenPeaks` –¥–æ 2

### –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –≤ —Ç–µ—Å—Ç–µ—Ä–µ –º–æ–ª—á–∏—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–µ—Ä–∞ (—Ç–∏–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –≥—Ä–∞—Ñ–∏–∫–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

## üìä –ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã

```
–û–¢–õ–ê–î–ö–ê: –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∏—Å–∫ –≤—Å–µ—Ö –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π...
–û–¢–õ–ê–î–ö–ê: –ù–∞–π–¥–µ–Ω–æ Stoch MAX –ø–∏–∫–æ–≤: 3
–û–¢–õ–ê–î–ö–ê: –ù–∞–π–¥–µ–Ω–æ Stoch MIN –ø–∏–∫–æ–≤: 2
–û–¢–õ–ê–î–ö–ê: –ò—â–µ–º –º–µ–¥–≤–µ–∂—å–∏ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏ Stochastic...
–û–¢–õ–ê–î–ö–ê: FindDivergencesRealtime - —Ç–∏–ø: StochBearish, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫–æ–≤: 3
–û–¢–õ–ê–î–ö–ê: –ü–∏–∫ 0 - –∏–Ω–¥–µ–∫—Å –±–∞—Ä–∞: 0, –∑–Ω–∞—á–µ–Ω–∏–µ: 75.5
–û–¢–õ–ê–î–ö–ê: –ù–∞–π–¥–µ–Ω –ø–∏–∫ –Ω–∞ —Ç–µ–∫—É—â–µ–º –±–∞—Ä–µ (–∏–Ω–¥–µ–∫—Å 0)!
–û–¢–õ–ê–î–ö–ê: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –ø–∏–∫–æ–º - –±–∞—Ä: 5, –∑–Ω–∞—á–µ–Ω–∏–µ: 78.2, —Ü–µ–Ω–∞: 1.1220
–û–¢–õ–ê–î–ö–ê: –ú–µ–¥–≤–µ–∂—å—è –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è - —Ü–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç: true, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–∞–¥–∞–µ—Ç: true
–û–¢–õ–ê–î–ö–ê: Stoch –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞! –°–∏–ª–∞: 15.5
–û–¢–õ–ê–î–ö–ê: –î–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–ø–∏—Å–æ–∫! –í—Å–µ–≥–æ: 1
–û–¢–õ–ê–î–ö–ê: –ù–∞–π–¥–µ–Ω–æ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π: 1 - –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –ª—É—á—à—É—é
–û–¢–õ–ê–î–ö–ê: –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—é —Å —Å–∏–ª–æ–π: 15.5
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω:
1. ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å –ø–∏–∫–∏ –Ω–∞ –±–∞—Ä–µ 0
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å–ª–æ–≤–∏—è –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π
3. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–≥–∏ –∏–∑ –∂—É—Ä–Ω–∞–ª–∞ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞. 